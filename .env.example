# ==============================================================================
# KHAZAD-DÃ›M PRODUCTION ENVIRONMENT VARIABLES
# Copy this to .env and fill in your actual values
# NEVER commit the real .env file to version control!
# ==============================================================================

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
DB_PASSWORD=your_secure_database_password_here_at_least_20_chars
POSTGRES_DB=khazad_dum
POSTGRES_USER=khazad_user

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION  
# -----------------------------------------------------------------------------
REDIS_PASSWORD=your_secure_redis_password_here_at_least_20_chars

# -----------------------------------------------------------------------------
# API KEYS - REQUIRED FOR TRADING SYSTEM
# -----------------------------------------------------------------------------

# OpenAI API (REQUIRED - for TradingAgents LLM analysis)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Finnhub API (REQUIRED - for market data)
FINNHUB_API_KEY=your-finnhub-api-key-here

# Optional API Keys (enhance data sources but not required)
POLYGON_API_KEY=your-polygon-api-key-here
ALPHA_VANTAGE_KEY=your-alpha-vantage-api-key-here
REDDIT_CLIENT_ID=your-reddit-client-id-here
REDDIT_CLIENT_SECRET=your-reddit-client-secret-here

# -----------------------------------------------------------------------------
# INTERACTIVE BROKERS (IBKR) CONFIGURATION
# -----------------------------------------------------------------------------

# IBKR Connection Settings
IBKR_HOST=127.0.0.1
IBKR_PORT=4002  # 4001=live trading, 4002=paper trading (SAFE DEFAULT)
IBKR_CLIENT_ID=1
IBKR_ACCOUNT_ID=your-ibkr-account-id-here

# Trading Safety Settings
IBKR_ENABLED=true
IBKR_PAPER_TRADING=true  # Set to false for live trading (BE CAREFUL!)

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------

# Environment
PRODUCTION=true
DEBUG=false
LOG_LEVEL=INFO

# Security
SECRET_KEY=generate_a_very_long_random_secret_key_here_minimum_50_chars
JWT_SECRET=another_long_random_secret_for_jwt_tokens_here

# SSL/Domain Configuration
DOMAIN_NAME=your-domain.com  # Replace with your actual domain
SSL_EMAIL=your-email@domain.com  # For Let's Encrypt SSL certificates

# -----------------------------------------------------------------------------
# MONITORING & ALERTING
# -----------------------------------------------------------------------------

# Grafana Admin Password
GRAFANA_PASSWORD=secure_grafana_admin_password_here

# Slack/Discord webhooks for alerts (recommended for mobile notifications)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK

# Telegram bot notifications (great for mobile alerts)
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_from_botfather
TELEGRAM_CHAT_ID=your_telegram_chat_id

# Email alerts (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
ALERT_EMAIL=alerts@yourdomain.com

# -----------------------------------------------------------------------------
# TRADING SYSTEM CONFIGURATION
# -----------------------------------------------------------------------------

# Risk Management
MAX_PORTFOLIO_RISK=0.02  # 2% max risk per trade
MAX_POSITIONS=5  # Maximum simultaneous positions
MAX_POSITION_SIZE=0.20  # 20% max per position

# Market Data Sources
PRIMARY_DATA_SOURCE=finnhub  # finnhub, polygon, alphavantage
BACKUP_DATA_SOURCE=polygon

# TradingAgents Configuration
TRADINGAGENTS_MODEL=gpt-4o-mini  # gpt-4o-mini (cost efficient) or o1-preview (deep analysis)
TRADINGAGENTS_MAX_ROUNDS=2  # More rounds = better analysis but higher costs
TRADINGAGENTS_ONLINE_TOOLS=true  # true=live data, false=cached data

# -----------------------------------------------------------------------------
# DEVELOPMENT/TESTING OVERRIDES
# -----------------------------------------------------------------------------

# Set these for development/testing
# DEV_MODE=true
# MOCK_BROKER=true
# MOCK_APIS=true
# FAST_TESTING=true

# -----------------------------------------------------------------------------
# BACKUP CONFIGURATION
# -----------------------------------------------------------------------------

# Database backup settings
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_S3_BUCKET=your-backup-bucket-name
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1

# -----------------------------------------------------------------------------
# SECURITY NOTES
# -----------------------------------------------------------------------------

# IMPORTANT SECURITY REMINDERS:
# 1. Never commit this file to version control with real values
# 2. Use strong, unique passwords (20+ characters)
# 3. Rotate API keys and passwords regularly
# 4. Use paper trading (IBKR_PAPER_TRADING=true) until fully tested
# 5. Start with small position sizes in live trading
# 6. Monitor logs and alerts closely

# -----------------------------------------------------------------------------
# HOW TO GENERATE SECURE PASSWORDS
# -----------------------------------------------------------------------------

# Generate secure passwords using:
# openssl rand -base64 32
# python -c "import secrets; print(secrets.token_urlsafe(32))"
# Or use a password manager

# -----------------------------------------------------------------------------
# VERIFICATION CHECKLIST
# -----------------------------------------------------------------------------

# Before deploying to production, verify:
# [ ] All API keys are valid and have sufficient credits/limits
# [ ] Database and Redis passwords are strong (20+ chars)
# [ ] IBKR_PAPER_TRADING=true for initial deployment
# [ ] Domain and SSL email are correct
# [ ] Backup configuration is set up
# [ ] Alert channels (Slack/Discord/Email) are configured
# [ ] Risk management settings are conservative initially